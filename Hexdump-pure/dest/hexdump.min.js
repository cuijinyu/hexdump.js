"use strict";function hexdump(e,n){var t=n.el,s=n.mode||"string",a=n.spacing||2,l=n.rightBreak||"|",p=n.leftBreak||"|",o=n.offset||16,r=n.render;null==r&&(r=!0);function i(e){for(var n="",t=0;t<e;t++)n+=" ";return n}var d=e;"string"==typeof d&&(d=function(e){e=e.split("");for(var n=[],t=0;t<e.length;t++)n.push(e[t].charCodeAt().toString(16));return new Uint8Array(n.map(function(e){return parseInt(e,16)})).buffer}(e)),d instanceof ArrayBuffer||console.error("[ERROR]:Input must be string or buffer");var h,u,m=void 0,x=new DataView(d);"html"===s?function(){for(var r='<div class="hexdump-wrapper"><div class="hexdump-title-group"><span style=\'color:red\' class="hexdump-offset">offset</span>'+function(){for(var e="",n=0;n<o;n++)e+='<span style=\'color:red\' class="hexdump-hex hexdump-title" data-index="'+n+'">'+n.toString(16).toUpperCase()+"</span>";return e}()+"</div>",e=function(t){r+='<div class="hexdump-hex-left"><span class="hexdump-offset" data-line="'+Math.floor(t/o)+'">0000'+t.toString(16).toUpperCase().slice(-4)+'<span class="hexdump-leftBreak">'+p+"</span></span>";for(var e=0;e<o;e++){var n=t+e>d.byteLength-1?'<span class="hexdump-hex"></span>':'<span class="hexdump-hex" data-index="'+e+'"  data-row="'+Math.floor(t/o)+'">'+(0+x.getUint8(t+e).toString(16).toUpperCase()).slice(-2)+"</span>";r+=n}r+='</div><div class="hexdump-hex-right"><span><span>'+l+"</span>";var s,a=String.fromCharCode.apply(null,new Uint8Array(d.slice(t,t+o))).replace(/[^\x20-\x7E]/g,".").split("");r+="<span>"+(s="",a.forEach(function(e,n){s+='<span class="hexdump-hex" data-index="'+n+'" data-row="'+Math.floor(t/o)+'">'+e+"</span>"}),s)+"</span></span></div></br>"},n=0;n<d.byteLength;n+=o)e(n);m=r+="</div>"}():function(){m="<span style='color:red'>offset   "+function(){for(var e="",n=0;n<o;n++)e+=n.toString(16).toUpperCase()+"  "+i(a);return e}()+"</span>";for(var e=0;e<d.byteLength;e+=o){m+="\n<span>0000"+e.toString(16).toUpperCase().slice(-4)+p+"   </span>";for(var n=0;n<o;n++){var t=e+n>d.byteLength-1?"  ":(0+x.getUint8(e+n).toString(16).toUpperCase()).slice(-2);m+=t+" "+i(a)}m+=l,m+=String.fromCharCode.apply(null,new Uint8Array(d.slice(e,e+o))).replace(/[^\x20-\x7E]/g,".")}}(),r&&(t.innerHTML=m,h="html"===s?"\n            span {\n                color: blue;\n            }\n            .hexdump-wrapper {\n                box-shadow:0px 5px 20px -4px rgba(0,0,0,0.5);\n                border-radius: 25px;\n                padding: 10px;\n                min-height: 100px;\n                user-select:none;\n            }\n            .hexdump-hex {\n                margin-right: "+a+"px;\n                display: inline-block;\n                width: 25px;\n                text-align: center;\n                box-shadow:0px 5px 20px -4px rgba(0,0,0,0.5);\n            }\n            .hexdump-hex:hover {\n                transform: scale(1.2);\n                transition: all .2s;\n            }\n            .hexdump-offset {\n                display: inline-block;\n                width: 70px;\n            }\n            .hexdump-hex-left,\n            .hexdump-hex-right {\n                display: inline-block;\n            }\n            .hexdump-hex-left {\n                float: left;\n            }\n            .hexdump-leftBreak {\n                float: right;\n                position: relative;\n                right: 10px;\n            }\n            .hexdump-red {\n                background: red;\n                color: white;\n            }\n            .hexdump-blue {\n                background: blue;\n                color: white;\n            }\n        ":"\n            span {\n                color: blue;\n            }\n        ",(u=document.createElement("style")).innerHTML=h,document.head.appendChild(u));var c=document.getElementsByClassName("hexdump-hex-left"),f=document.getElementsByClassName("hexdump-hex-right"),g=document.getElementsByClassName("hexdump-wrapper")[0],v=document.getElementsByClassName("hexdump-title-group")[0],E=document.getElementsByClassName("hexdump-offset");(E=Array.prototype.slice.call(E)).shift();for(var y=function(t){c[t].addEventListener("click",function(e){var n=f[t].getElementsByClassName("hexdump-hex")[e.srcElement.dataset.index];e.srcElement.classList.contains("hexdump-hex")&&(e.srcElement.classList.toggle("hexdump-blue"),n.classList.toggle("hexdump-red"))})},b=0;b<c.length;b++)y(b);var C=null,L=null;return g.addEventListener("mousedown",function(e){e.srcElement.classList.contains("hexdump-hex")&&(C=[parseInt(e.srcElement.dataset.row),parseInt(e.srcElement.dataset.index)])}),v.addEventListener("click",function(e){for(var n=parseInt(e.srcElement.dataset.index),t=0;t<c.length;t++)c[t].getElementsByClassName("hexdump-hex")[n].classList.contains("hexdump-hex")&&(c[t].getElementsByClassName("hexdump-hex")[n].classList.toggle("hexdump-blue"),f[t].getElementsByClassName("hexdump-hex")[n].classList.toggle("hexdump-red"))}),E.forEach(function(e){e.addEventListener("click",function(e){for(var n=parseInt(e.srcElement.dataset.line),t=0;t<o;t++)try{c[n].getElementsByClassName("hexdump-hex")[t].classList.contains("hexdump-hex")&&(c[n].getElementsByClassName("hexdump-hex")[t].classList.toggle("hexdump-blue"),f[n].getElementsByClassName("hexdump-hex")[t].classList.toggle("hexdump-red"))}catch(e){}})}),g.addEventListener("mouseup",function(e){if(e.srcElement.classList.contains("hexdump-hex"))if(C){if((L=[parseInt(e.srcElement.dataset.row),parseInt(e.srcElement.dataset.index)])[0]==C[0]&&L[1]==C[1])return;if(L[0]<C[0]||L[0]==C[0]&&L[1]<C[1]){var n=L;L=C,C=n}for(var t=C[0];t<=L[0];t++){var s=0,a=o-1;t===C[0]&&(s=C[1]),t===L[0]&&(a=L[1]);for(var r=s;r<=a;r++)c[t].getElementsByClassName("hexdump-hex")[r].classList.toggle("hexdump-blue"),f[t].getElementsByClassName("hexdump-hex")[r].classList.toggle("hexdump-red")}}else C=null;L=C=null}),m}